(()=>{var e={};e.id=974,e.ids=[974],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},28:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>h,tree:()=>u}),r(3556),r(8286),r(5866);var a=r(3191),n=r(8716),s=r(7922),i=r.n(s),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let u=["",{children:["(main)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3556)),"/home/n01639496/csa/v3/library-app/app/(main)/page.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,8286)),"/home/n01639496/csa/v3/library-app/app/(main)/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/n01639496/csa/v3/library-app/app/(main)/page.js"],c="/(main)/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},5450:(e,t,r)=>{Promise.resolve().then(r.bind(r,2808))},5127:(e,t,r)=>{Promise.resolve().then(r.bind(r,6225))},1626:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},3113:(e,t,r)=>{"use strict";r.d(t,{H:()=>l,a:()=>o});var a=r(326),n=r(7577);let s=[{username:"admin",password:"admin123",role:"admin"},{username:"user",password:"user123",role:"user"}],i=(0,n.createContext)();function l({children:e}){let[t,r]=(0,n.useState)(null);return a.jsx(i.Provider,{value:{user:t,login:(e,t)=>{let a=s.find(r=>r.username===e&&r.password===t);return!!a&&(r(a),!0)},logout:()=>{r(null)}},children:e})}let o=()=>(0,n.useContext)(i)},2808:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(326),n=r(3113);function s({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:a.jsx(n.H,{children:e})})})}r(6393)},6225:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(326),n=r(7577),s=r(3113);function i({onAddBook:e}){let[t,r]=(0,n.useState)({Title:"",Authors:"",Publisher:"",Year:""});return(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e(t),r({Title:"",Authors:"",Publisher:"",Year:""})},children:[a.jsx("input",{type:"text",placeholder:"Title",value:t.Title,onChange:e=>r({...t,Title:e.target.value}),required:!0}),a.jsx("input",{type:"text",placeholder:"Authors",value:t.Authors,onChange:e=>r({...t,Authors:e.target.value}),required:!0}),a.jsx("input",{type:"text",placeholder:"Publisher",value:t.Publisher,onChange:e=>r({...t,Publisher:e.target.value}),required:!0}),a.jsx("input",{type:"number",placeholder:"Year",value:t.Year,onChange:e=>r({...t,Year:e.target.value}),required:!0}),a.jsx("button",{type:"submit",children:"Add Book"})]})}function l({books:e,onDeleteBook:t,onUpdateBook:r,isAdmin:s}){let[i,l]=(0,n.useState)(null),o=e=>{l(e)},u=()=>{r(i),l(null)};return(0,a.jsxs)("div",{className:"book-list",children:[a.jsx("h2",{children:"Books"}),e.map(e=>a.jsx("div",{className:"book-item card",children:a.jsx("div",{className:"card-body",children:i&&i.Title===e.Title?(0,a.jsxs)("div",{children:[a.jsx("input",{value:i.Title,onChange:e=>l({...i,Title:e.target.value}),className:"input"}),a.jsx("input",{value:i.Authors,onChange:e=>l({...i,Authors:e.target.value}),className:"input"}),a.jsx("input",{value:i.Publisher,onChange:e=>l({...i,Publisher:e.target.value}),className:"input"}),a.jsx("input",{value:i.Year,onChange:e=>l({...i,Year:e.target.value}),className:"input"}),a.jsx("button",{onClick:u,className:"btn btn-primary",children:"Save"})]}):(0,a.jsxs)("div",{children:[a.jsx("h3",{children:e.Title}),(0,a.jsxs)("p",{children:["Authors: ",e.Authors]}),(0,a.jsxs)("p",{children:["Publisher: ",e.Publisher]}),(0,a.jsxs)("p",{children:["Year: ",e.Year]}),s&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>o(e),className:"btn btn-secondary",children:"Edit"}),a.jsx("button",{onClick:()=>t(e.Title),className:"btn btn-danger",children:"Delete"})]})]})})},e.Title))]})}function o(){let[e,t]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),{login:l}=(0,s.a)();return(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),l(e,r)||alert("Invalid credentials")},className:"login-form",children:[a.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:e=>t(e.target.value),required:!0,className:"input"}),a.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:e=>i(e.target.value),required:!0,className:"input"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Login"})]})}function u(){let[e,t]=(0,n.useState)([]),{user:r,logout:u}=(0,s.a)(),d=async()=>{let e=await fetch("/api/books");t(await e.json())},c=async e=>{await fetch("/api/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),d()},p=async e=>{await fetch("/api/books",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e})}),d()},h=async e=>{await fetch("/api/books",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),d()};return a.jsx("div",{className:"container",children:(0,a.jsxs)("div",{className:"card",children:[a.jsx("div",{className:"card-header",children:a.jsx("h1",{className:"title",children:"Library Management"})}),a.jsx("div",{className:"card-body",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["Welcome, ",r.username,"!"]}),a.jsx("button",{onClick:u,className:"btn btn-secondary",children:"Logout"}),"admin"===r.role&&a.jsx(i,{onAddBook:c}),a.jsx(l,{books:e,onDeleteBook:p,onUpdateBook:h,isAdmin:"admin"===r.role})]}):a.jsx(o,{})})]})})}},8286:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/home/n01639496/csa/v3/library-app/app/(main)/layout.js#default`)},3556:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/home/n01639496/csa/v3/library-app/app/(main)/page.js#default`)},6393:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,471],()=>r(28));module.exports=a})();